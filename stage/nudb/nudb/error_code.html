<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>error_code</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../index.html" title="NuDB">
<link rel="up" href="../index.html" title="NuDB">
<link rel="prev" href="usage.html" title="Usage">
<link rel="next" href="tool.html" title="Command Line Tool">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="NuDB Logo" width="1270" height="80" src="../images/logo.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="usage.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="tool.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="nudb.error_code"></a><a class="link" href="error_code.html" title="error_code">error_code</a>
</h2></div></div></div>
<p>
      Invoking functions in this library can result in errors. Such errors might
      be detected by the functions of this library or be detected by other components
      that this library depends upon such as the C++ standard library or underlying
      operating system. So all functions in this library return an error code of
      type <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error_code</span></code>. This type is capable of holding
      error codes returned from any possible source. Given this, it's not surprising
      that it's somewhat more complex than a simple integer value. Full description
      is beyond the scope of this documentation, but fortunately there are various
      sources which together provide a good explanation of how to use it.
    </p>
<div class="variablelist">
<p class="title"><b></b></p>
<dl class="variablelist">
<dt><span class="term"> <a href="http://www.boost.org/libs/system/doc/index.html" target="_top">Boost
        System Library</a> </span></dt>
<dd><p>
            This is the official documentation for the Boost System Library which
            includes the description of boost::system::error_code used by this library
          </p></dd>
<dt><span class="term"> <a href="http://en.cppreference.com/w/cpp/error" target="_top">C++ Standard Library
        version</a> </span></dt>
<dd><p>
            The Boost System Library has been incorporated into the standard library
            as part of the C++ standard error handling utilities. Except for the
            substitution of std:: for boost::system:: namespace, the libraries are
            identical. This link points to the standard library documentation which
            may be used in addition to the boost version.
          </p></dd>
<dt><span class="term"> <a href="http://blog.think-async.com/2010/04/system-error-support-in-c0x-part-1.html" target="_top">Thinking
        Asyncronously in C++</a> </span></dt>
<dd><p>
            Another essential reference on the design and usage of the <code class="computeroutput"><span class="identifier">error_code</span></code>.
          </p></dd>
</dl>
</div>
<h4>
<a name="nudb.error_code.h0"></a>
      <span class="phrase"><a name="nudb.error_code.associated_types"></a></span><a class="link" href="error_code.html#nudb.error_code.associated_types">Associated
      Types</a>
    </h4>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
          <a href="http://www.boost.org/libs/system/doc/reference.html#Header-error_code" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">ercc</span></code></a> list of values which might
          be used as values by <a href="http://www.boost.org/libs/system/doc/reference.html#Class-error_code" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error_code</span></code></a>.
        </li>
<li class="listitem">
          <a class="link" href="ref/nudb__error.html" title="error">error</a> list of values which
          might be used as values NuDB library functions.
        </li>
<li class="listitem">
          <a href="http://www.boost.org/libs/system/doc/reference.html#Class-system_error" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">system_error</span></code></a>
        </li>
</ul></div>
<p>
      Any NuDB function may return <code class="computeroutput"><span class="identifier">error_code</span></code>
      values from either of the above sources. So error_codes should be checked against
      both lists of error codes used.
    </p>
<h4>
<a name="nudb.error_code.h1"></a>
      <span class="phrase"><a name="nudb.error_code.notation"></a></span><a class="link" href="error_code.html#nudb.error_code.notation">Notation</a>
    </h4>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
          <code class="computeroutput"><span class="identifier">ec</span></code> an instance of a reference
          to the type <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error_code</span></code>.
        </li>
<li class="listitem">
          &lt;enum value&gt; a value listed in either <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">errc</span></code>
          or <code class="computeroutput"><span class="identifier">nudb</span><span class="special">::</span><span class="identifier">error</span></code>. [<code class="computeroutput"><span class="identifier">se</span></code>
          an instance of the type <a href="http://www.boost.org/libs/system/doc/reference.html#Class-system_error" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">system_error</span></code> </a>. ]
        </li>
</ul></div>
<h4>
<a name="nudb.error_code.h2"></a>
      <span class="phrase"><a name="nudb.error_code.valid_expressions"></a></span><a class="link" href="error_code.html#nudb.error_code.valid_expressions">Valid
      Expressions</a>
    </h4>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                Operation
              </p>
            </th>
<th>
              <p>
                Return Type
              </p>
            </th>
<th>
              <p>
                Description
              </p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <a href="http://www.boost.orglibs/system/doc/reference.html#Class-error_code-observers" target="_top"><code class="computeroutput"><span class="identifier">ec</span><span class="special">.</span><span class="identifier">message</span><span class="special">()</span></code></a>
              </p>
            </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">string</span></code>
              </p>
            </td>
<td>
              <p>
                Return an explanation of the error code as a string
              </p>
            </td>
</tr>
<tr>
<td>
              <p>
                <a href="http://www.boost.orglibs/system/doc/reference.html#Class-system_error" target="_top"><code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">system_error</span><span class="special">(</span><span class="identifier">ec</span><span class="special">)</span></code></a>
              </p>
            </td>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">se</span></code>
              </p>
            </td>
<td>
              <p>
                Construct a standard exception type. The result can be the object
                of a C++ "throw" statement.
              </p>
            </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">ec</span> <span class="special">==</span>
                </code>&lt;enum value&gt;
              </p>
            </td>
<td>
              <p>
                bool
              </p>
            </td>
<td>
              <p>
                Compare an error_code with an error enum.
              </p>
            </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">ec</span> <span class="special">!=</span>
                </code>&lt;enum value&gt;
              </p>
            </td>
<td>
              <p>
                bool
              </p>
            </td>
<td>
              <p>
                Compare an error_code with an error enum.
              </p>
            </td>
</tr>
<tr>
<td>
              <p>
                <code class="computeroutput"><span class="identifier">ec</span></code>
              </p>
            </td>
<td>
              <p>
                bool
              </p>
            </td>
<td>
              <p>
                Returns <code class="computeroutput"><span class="keyword">true</span></code> if there
                is an error, <code class="computeroutput"><span class="keyword">false</span></code> otherwise.
              </p>
            </td>
</tr>
</tbody>
</table></div>
<h4>
<a name="nudb.error_code.h3"></a>
      <span class="phrase"><a name="nudb.error_code.header"></a></span><a class="link" href="error_code.html#nudb.error_code.header">Header</a>
    </h4>
<p>
      <a href="http://www.boost.orglibs/system/doc/reference.html#Header-error_code" target="_top"><code class="computeroutput"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">system</span><span class="special">/</span><span class="identifier">error_code</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></a>
    </p>
<p>
      <a href="../../../include/nudb/error.hpp" target="_top"><code class="computeroutput"><span class="preprocessor">#include</span>
      <span class="special">&lt;</span><span class="identifier">nudb</span><span class="special">/</span><span class="identifier">error</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code></a>
    </p>
<h4>
<a name="nudb.error_code.h4"></a>
      <span class="phrase"><a name="nudb.error_code.example"></a></span><a class="link" href="error_code.html#nudb.error_code.example">Example</a>
    </h4>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">system</span><span class="special">/</span><span class="identifier">error_code</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">nudb</span><span class="special">/</span><span class="identifier">error</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="comment">// ...</span>
<span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">error_code</span> <span class="identifier">ec</span><span class="special">;</span>
<span class="identifier">nudb</span><span class="special">::</span><span class="identifier">store</span> <span class="identifier">db</span><span class="special">;</span>
<span class="identifier">db</span><span class="special">.</span><span class="identifier">open</span><span class="special">(</span><span class="string">"db.dat"</span><span class="special">,</span> <span class="string">"db.key"</span><span class="special">,</span> <span class="string">"db.log"</span><span class="special">,</span> <span class="identifier">ec</span><span class="special">);</span>
<span class="keyword">if</span><span class="special">(!</span><span class="identifier">ec</span><span class="special">)</span>
    <span class="keyword">return</span><span class="special">;</span> <span class="comment">// success !</span>
<span class="keyword">if</span><span class="special">(</span><span class="identifier">ec</span> <span class="special">==</span> <span class="identifier">nudb</span><span class="special">::</span><span class="identifier">error</span><span class="special">::</span><span class="identifier">no_key_file</span><span class="special">)</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cerr</span> <span class="special">&lt;&lt;</span> <span class="string">"key file not found"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="keyword">else</span>
<span class="keyword">if</span><span class="special">(</span><span class="identifier">ec</span> <span class="special">==</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">system</span><span class="special">::</span><span class="identifier">errc</span><span class="special">::</span><span class="identifier">filename_too_long</span><span class="special">)</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cerr</span> <span class="special">&lt;&lt;</span> <span class="string">"file name too long"</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="keyword">else</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cerr</span> <span class="special">&lt;&lt;</span> <span class="identifier">ec</span><span class="special">.</span><span class="identifier">message</span><span class="special">()</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
<span class="keyword">return</span><span class="special">;</span> <span class="comment">// failure !</span>
</pre>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2015, 2016 Vinnie Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="usage.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="tool.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
