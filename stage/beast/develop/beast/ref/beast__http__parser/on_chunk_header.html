<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>http::parser::on_chunk_header</title>
<link rel="stylesheet" href="../../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../../../index.html" title="Beast">
<link rel="up" href="../beast__http__parser.html" title="http::parser">
<link rel="prev" href="on_chunk_body.html" title="http::parser::on_chunk_body">
<link rel="next" href="operator_eq_.html" title="http::parser::operator=">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"><img alt="Beast Logo" width="1330" height="80" src="../../../images/beast.png"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="on_chunk_body.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../beast__http__parser.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="operator_eq_.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h5 class="title">
<a name="beast.ref.beast__http__parser.on_chunk_header"></a><a class="link" href="on_chunk_header.html" title="http::parser::on_chunk_header">http::parser::on_chunk_header</a>
</h5></div></div></div>
<p>
          <a class="indexterm" name="id1283467"></a>
Set a callback to be invoked on each chunk header.
        </p>
<h6>
<a name="beast.ref.beast__http__parser.on_chunk_header.h0"></a>
          <span class="phrase"><a name="beast.ref.beast__http__parser.on_chunk_header.synopsis"></a></span><a class="link" href="on_chunk_header.html#beast.ref.beast__http__parser.on_chunk_header.synopsis">Synopsis</a>
        </h6>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span>
    <span class="keyword">class</span> <span class="identifier">Callback</span><span class="special">&gt;</span>
<span class="keyword">void</span>
<span class="identifier">on_chunk_header</span><span class="special">(</span>
    <span class="identifier">Callback</span><span class="special">&amp;</span> <span class="identifier">cb</span><span class="special">);</span>
</pre>
<h6>
<a name="beast.ref.beast__http__parser.on_chunk_header.h1"></a>
          <span class="phrase"><a name="beast.ref.beast__http__parser.on_chunk_header.description"></a></span><a class="link" href="on_chunk_header.html#beast.ref.beast__http__parser.on_chunk_header.description">Description</a>
        </h6>
<p>
          The callback will be invoked once for every chunk in the message payload,
          as well as once for the last chunk. The invocation happens after the chunk
          header is available but before any body octets have been parsed.
        </p>
<p>
          The extensions are provided in raw, validated form, use <a class="link" href="../beast__http__basic_chunk_extensions/parse.html" title="http::basic_chunk_extensions::parse"><code class="computeroutput"><span class="identifier">http</span><span class="special">::</span><span class="identifier">basic_chunk_extensions</span><span class="special">::</span><span class="identifier">parse</span></code></a> to parse the extensions
          into a structured container for easier access. The implementation type-erases
          the callback without requiring a dynamic allocation. For this reason, the
          callback object is passed by a non-constant reference.
        </p>
<h6>
<a name="beast.ref.beast__http__parser.on_chunk_header.h2"></a>
          <span class="phrase"><a name="beast.ref.beast__http__parser.on_chunk_header.example"></a></span><a class="link" href="on_chunk_header.html#beast.ref.beast__http__parser.on_chunk_header.example">Example</a>
        </h6>
<pre class="programlisting"><span class="keyword">auto</span> <span class="identifier">callback</span> <span class="special">=</span>
    <span class="special">[](</span><span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span> <span class="identifier">size</span><span class="special">,</span> <span class="identifier">string_view</span> <span class="identifier">extensions</span><span class="special">,</span> <span class="identifier">error_code</span><span class="special">&amp;</span> <span class="identifier">ec</span><span class="special">)</span>
    <span class="special">{</span>
        <span class="comment">//...</span>
    <span class="special">};</span>
<span class="identifier">parser</span><span class="special">.</span><span class="identifier">on_chunk_header</span><span class="special">(</span><span class="identifier">callback</span><span class="special">);</span>
</pre>
<h6>
<a name="beast.ref.beast__http__parser.on_chunk_header.h3"></a>
          <span class="phrase"><a name="beast.ref.beast__http__parser.on_chunk_header.parameters"></a></span><a class="link" href="on_chunk_header.html#beast.ref.beast__http__parser.on_chunk_header.parameters">Parameters</a>
        </h6>
<div class="informaltable"><table class="table">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
                  <p>
                    Name
                  </p>
                </th>
<th>
                  <p>
                    Description
                  </p>
                </th>
</tr></thead>
<tbody><tr>
<td>
                  <p>
                    <code class="computeroutput"><span class="identifier">cb</span></code>
                  </p>
                </td>
<td>
                  <p>
                    The function to set, which must be invocable with this equivalent
                    signature:
                  </p>
<pre xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="table-programlisting"><span class="keyword">void</span>
<span class="identifier">on_chunk_header</span><span class="special">(</span>
    <span class="identifier">std</span><span class="special">::</span><span class="identifier">uint64_t</span> <span class="identifier">size</span><span class="special">,</span>         <span class="comment">// Size of the chunk, zero for the last chunk</span>
    <span class="identifier">string_view</span> <span class="identifier">extensions</span><span class="special">,</span>     <span class="comment">// The chunk-extensions in raw form</span>
    <span class="identifier">error_code</span><span class="special">&amp;</span> <span class="identifier">ec</span><span class="special">);</span>            <span class="comment">// May be set by the callback to indicate an error</span>
</pre>
                </td>
</tr></tbody>
</table></div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013-2017 Vinnie Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="on_chunk_body.html"><img src="../../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../beast__http__parser.html"><img src="../../../images/up.png" alt="Up"></a><a accesskey="h" href="../../../index.html"><img src="../../../images/home.png" alt="Home"></a><a accesskey="n" href="operator_eq_.html"><img src="../../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
