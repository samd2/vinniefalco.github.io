<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Using Networking</title>
<link rel="stylesheet" href="../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.1">
<link rel="home" href="../index.html" title="Chapter&#160;1.&#160;Boost.Beast">
<link rel="up" href="../index.html" title="Chapter&#160;1.&#160;Boost.Beast">
<link rel="prev" href="examples.html" title="Examples">
<link rel="next" href="using_io/asio_refresher.html" title="Refresher">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="examples.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="using_io/asio_refresher.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="beast.using_io"></a><a class="link" href="using_io.html" title="Using Networking">Using Networking</a>
</h2></div></div></div>
<p>
      This library depends and builds on the networking facilities destined to become
      part of the official C++ standard library. The latest draft of the proposal
      to add these networking facilities is called the <a href="http://cplusplus.github.io/networking-ts/draft.pdf" target="_top">Networking
      Technical Specification</a>. This specification is projected to become
      official no sooner than the year 2023. There are three implementations of this
      specification, which differ cosmetically but otherwise use the same function
      signatures and type declarations: the reference networking-ts implementation,
      the Boost.Asio implementation, and the stand-alone Asio implementation. The
      following table illustrates shows how an I/O context variable is declared by
      including the appropriate header and using a suitable namespace alias:
    </p>
<div class="table">
<a name="beast.using_io.networking_implementations"></a><p class="title"><b>Table&#160;1.1.&#160;Networking Implementations</b></p>
<div class="table-contents"><table class="table" summary="Networking Implementations">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>
              <p>
                Name
              </p>
            </th>
<th>
              <p>
                Namespace and Header Example
              </p>
            </th>
</tr></thead>
<tbody>
<tr>
<td>
              <p>
                <a href="../../../../../libs/asio/index.html" target="_top">Boost.Asio</a>
              </p>
            </td>
<td>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">asio</span><span class="special">/</span><span class="identifier">io_context</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="keyword">namespace</span> <span class="identifier">net</span> <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span><span class="special">;</span>
<span class="identifier">net</span><span class="special">::</span><span class="identifier">io_context</span> <span class="identifier">ioc</span><span class="special">;</span>
</pre>
            </td>
</tr>
<tr>
<td>
              <p>
                <a href="https://think-async.com/Asio/" target="_top">Asio (Standalone)</a>
              </p>
            </td>
<td>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">asio</span><span class="special">/</span><span class="identifier">io_context</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="keyword">namespace</span> <span class="identifier">net</span> <span class="special">=</span> <span class="identifier">asio</span><span class="special">;</span>
<span class="identifier">net</span><span class="special">::</span><span class="identifier">io_context</span> <span class="identifier">ioc</span><span class="special">;</span>
</pre>
            </td>
</tr>
<tr>
<td>
              <p>
                <a href="https://github.com/chriskohlhoff/networking-ts-impl" target="_top">networking-ts-impl</a>
              </p>
            </td>
<td>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">experimental</span><span class="special">/</span><span class="identifier">io_context</span><span class="special">&gt;</span>
<span class="keyword">namespace</span> <span class="identifier">net</span> <span class="special">=</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">experimental</span><span class="special">::</span><span class="identifier">net</span><span class="special">;</span>
<span class="identifier">net</span><span class="special">::</span><span class="identifier">io_context</span> <span class="identifier">ioc</span><span class="special">;</span>
</pre>
            </td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>
      This document refers to the three implementations above interchangeably and
      collectively as "networking." The Boost.Asio and Asio flavors of
      networking provide additional functionality which is not currently proposed
      for C++ (but will likely appear in a future specification). Examples of functionality
      in Boost.Asio not present in the proposed networking draft include support
      for:
    </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
          <a href="../../../../../doc/html/boost_asio/reference/serial_port.html" target="_top">Serial
          ports</a>
        </li>
<li class="listitem">
          <a href="../../../../../doc/html/boost_asio/reference/local__stream_protocol.html" target="_top">UNIX
          domain sockets</a>
        </li>
<li class="listitem">
          <a href="../../../../../doc/html/boost_asio/reference/signal_set.html" target="_top">POSIX
          signals</a> (e.g. SIGINT, SIGABORT)
        </li>
<li class="listitem">
          <a href="../../../../../doc/html/boost_asio/reference/ssl__stream.html" target="_top">TLS
          streams</a> (such as OpenSSL)
        </li>
</ul></div>
<p>
      In this documentation, the example code, and the implementation, the <code class="computeroutput"><span class="identifier">net</span></code> namespace is used to qualify networking
      identifiers. For Boost.Beast, <code class="computeroutput"><span class="identifier">net</span></code>
      will be an alias for the <code class="computeroutput"><span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span></code> namespace.
    </p>
<p>
      While this library offers performant implementations of the HTTP and WebSocket
      network protocols, it depends on the networking interface to perform tasks
      which are not specific to the protocol. Examples of these tasks include performing
      domain name resolution (DNS lookup), establishing outgoing connections, and
      accepting incoming connections. Callers are responsible for interacting with
      networking to initialize objects to the correct state where they are usable
      by this library.
    </p>
<p>
      To facilitiate interacting with networking, the library provides an extensive
      collection of types and algorithms. This section of the documentation explains
      these types and algorithms, provides examples of usage, and also provides refreshers
      and tutorials for working with networking.
    </p>
<h4>
<a name="beast.using_io.h0"></a>
      <span class="phrase"><a name="beast.using_io.abbreviations"></a></span><a class="link" href="using_io.html#beast.using_io.abbreviations">Abbreviations</a>
    </h4>
<p>
      This documentation assumes familiarity with <a href="../../../../../libs/asio/index.html" target="_top">Boost.Asio</a>,
      which is required to work with Beast. Sample code and identifiers used throughout
      are written as if the following declarations are in effect:
    </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">beast</span><span class="special">/</span><span class="identifier">core</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">asio</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">asio</span><span class="special">/</span><span class="identifier">ssl</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">thread</span><span class="special">&gt;</span>
</pre>
<pre class="programlisting"><span class="comment">//</span>
<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">beast</span><span class="special">;</span>
<span class="keyword">namespace</span> <span class="identifier">net</span> <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span><span class="special">;</span>
<span class="keyword">namespace</span> <span class="identifier">ssl</span> <span class="special">=</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">asio</span><span class="special">::</span><span class="identifier">ssl</span><span class="special">;</span>
<span class="keyword">using</span> <span class="identifier">tcp</span> <span class="special">=</span> <span class="identifier">net</span><span class="special">::</span><span class="identifier">ip</span><span class="special">::</span><span class="identifier">tcp</span><span class="special">;</span>

<span class="identifier">net</span><span class="special">::</span><span class="identifier">io_context</span> <span class="identifier">ioc</span><span class="special">;</span>
<span class="keyword">auto</span> <span class="identifier">work</span> <span class="special">=</span> <span class="identifier">net</span><span class="special">::</span><span class="identifier">make_work_guard</span><span class="special">(</span><span class="identifier">ioc</span><span class="special">);</span>
<span class="identifier">std</span><span class="special">::</span><span class="identifier">thread</span> <span class="identifier">t</span><span class="special">{[&amp;](){</span> <span class="identifier">ioc</span><span class="special">.</span><span class="identifier">run</span><span class="special">();</span> <span class="special">}};</span>

<span class="identifier">error_code</span> <span class="identifier">ec</span><span class="special">;</span>
<span class="identifier">tcp</span><span class="special">::</span><span class="identifier">socket</span> <span class="identifier">sock</span><span class="special">{</span><span class="identifier">ioc</span><span class="special">};</span>
</pre>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2016, 2017 Vinnie Falco<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="examples.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="using_io/asio_refresher.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
